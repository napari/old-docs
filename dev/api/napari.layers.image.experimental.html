

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>napari.layers.image.experimental package &mdash; napari 0.4.5.dev1+g58677b5 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="napari.layers.labels package" href="napari.layers.labels.html" />
    <link rel="prev" title="napari.layers.image package" href="napari.layers.image.html" />
    <script async defer data-domain="napari.org" src="https://plausible.io/js/plausible.js"></script>
     

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> napari
          

          
            
            <img src="../_static/napari_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.4.5.dev1+g58677b5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">napari</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.window">napari.window module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.benchmarks.html">napari.benchmarks package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.experimental.html">napari.experimental package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="napari.layers.html">napari.layers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.qt.html">napari.qt package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.utils.html">napari.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.window">napari.window module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.benchmarks.html">napari.benchmarks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.html">napari.components.experimental package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.chunk.html">napari.components.experimental.chunk package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.monitor.html">napari.components.experimental.monitor package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.remote.html">napari.components.experimental.remote package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.experimental.html">napari.experimental package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.layers.html">napari.layers package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.layers.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.layers.base.html">napari.layers.base package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="napari.layers.image.html">napari.layers.image package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.labels.html">napari.layers.labels package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.points.html">napari.layers.points package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.shapes.html">napari.layers.shapes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.surface.html">napari.layers.surface package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.tracks.html">napari.layers.tracks package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.utils.html">napari.layers.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.vectors.html">napari.layers.vectors package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#module-napari.layers.intensity_mixin">napari.layers.intensity_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#module-napari.layers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.base.html">napari.layers.base package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.layers.image.html">napari.layers.image package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.layers.image.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">napari.layers.image.experimental package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.image.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.image.html#module-napari.layers.image.image">napari.layers.image.image module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.image.html#module-napari.layers.image">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">napari.layers.image.experimental package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree">napari.layers.image.experimental.octree module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_chunk">napari.layers.image.experimental.octree_chunk module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_image">napari.layers.image.experimental.octree_image module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_intersection">napari.layers.image.experimental.octree_intersection module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_level">napari.layers.image.experimental.octree_level module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_tile_builder">napari.layers.image.experimental.octree_tile_builder module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental.octree_util">napari.layers.image.experimental.octree_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.image.experimental">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.labels.html">napari.layers.labels package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.points.html">napari.layers.points package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.shapes.html">napari.layers.shapes package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.surface.html">napari.layers.surface package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.tracks.html">napari.layers.tracks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.utils.html">napari.layers.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.vectors.html">napari.layers.vectors package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.qt.html">napari.qt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.html">napari.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.colormaps.html">napari.utils.colormaps package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.events.html">napari.utils.events package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.events.containers.html">napari.utils.events.containers package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.perf.html">napari.utils.perf package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.transforms.html">napari.utils.transforms package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/index.html">Explanations</a></li>
<li class="toctree-l1"><a class="reference external" href="https://napari.org">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/napari/napari">Source Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">napari</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">napari</a> &raquo;</li>
        
          <li><a href="napari.html">napari package</a> &raquo;</li>
        
          <li><a href="napari.layers.html">napari.layers package</a> &raquo;</li>
        
          <li><a href="napari.layers.image.html">napari.layers.image package</a> &raquo;</li>
        
      <li>napari.layers.image.experimental package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/napari.layers.image.experimental.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="napari-layers-image-experimental-package">
<h1>napari.layers.image.experimental package<a class="headerlink" href="#napari-layers-image-experimental-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-napari.layers.image.experimental.octree">
<span id="napari-layers-image-experimental-octree-module"></span><h2>napari.layers.image.experimental.octree module<a class="headerlink" href="#module-napari.layers.image.experimental.octree" title="Permalink to this headline">¶</a></h2>
<p>Octree class.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree.Octree">
<em class="property">class </em><code class="sig-name descname">Octree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">slice_id</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata">napari.layers.image.experimental.octree_util.OctreeMetadata</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A sparse region octree that holds hold 2D or 3D images.</p>
<p>The Octree is sparse in that it contains the ArrayLike data for the
image, but it does not contain chunks or nodes or anything for that
data. There is no actual tree for the data, only the multiscale data
itself.</p>
<p>Instead Octree just provides methods so that other classes like
OctreeLevel, OctreeSlice and OctreeLoader can create and store OctreeChunks
for just the portion of the tree we are rendering. This class knows
how to go from chunks to their parents or children, but those parents
or children are only created as needed.</p>
<p class="rubric">Notes</p>
<p>Future work related to geometry: Eventually we want our octree to hold
geometry, not just images. Geometry such as points and meshes. For
geometry a sparse octree might make more sense than this full/complete
region octree.</p>
<p>With geometry there might be lots of empty space in between small dense
pockets of geometry. Some parts of tree might need to be very deep, but
it would be a waste for the tree to be that deep everywhere.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slice_id</strong> (<em>int:</em>) – The id of the slice this octree is in.</p></li>
<li><p><strong>data</strong> – The underlying multi-scale data.</p></li>
<li><p><strong>meta</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata"><em>OctreeMetadata</em></a>) – The base shape and other information.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_ancestors">
<code class="sig-name descname">get_ancestors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">octree_chunk</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a></span></em>, <em class="sig-param"><span class="n">num_levels</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_ancestors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_ancestors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the num_levels nearest ancestors.</p>
<p>If create=False only returns the ancestors if they exist. If
create=True it will create the ancestors as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>octree_chunk</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk"><em>OctreeChunk</em></a>) – Return the nearest ancestors of this chunk.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Up to num_level nearest ancestors of the given chunk. Sorted so the
most-distant ancestor comes first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_children">
<code class="sig-name descname">get_children</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">octree_chunk</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">in_memory</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the children of this octree_chunk.</p>
<p>If create is False then we only return children that exist, so we will
return between 0 and 4 children. If create is True then we will create
any children that don’t exist. If octree_chunk is in level 0 then
we will always return 0 children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>octree_chunk</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk"><em>OctreeChunk</em></a>) – Return the children of this chunk.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The children of the given chunk.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_chunk">
<code class="sig-name descname">get_chunk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">row</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get chunk at this location, create if needed if create=True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Get chunk from this level.</p></li>
<li><p><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Get chunk at this row.</p></li>
<li><p><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Get chunk at this col.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_chunk_at_location">
<code class="sig-name descname">get_chunk_at_location</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">location</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation">napari.layers.image.experimental.octree_chunk.OctreeLocation</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_chunk_at_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_chunk_at_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Get chunk get this location, create if needed if create=True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation"><em>OctreeLocation</em></a>) – Get chunk at this location.</p></li>
<li><p><strong>create</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True create the chunk if it doesn’t exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_level">
<code class="sig-name descname">get_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel">napari.layers.image.experimental.octree_level.OctreeLevel</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the given OctreeLevel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Get the OctreeLevel with this index.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The requested level.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel">OctreeLevel</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.get_parent">
<code class="sig-name descname">get_parent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">octree_chunk</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.get_parent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.get_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent of this octree_chunk.</p>
<p>If the chunk at the root level, then this always return None.
Otherwise it returns the parent if it exists, or if create=True
it creates the parent and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>octree_chunk</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk"><em>OctreeChunk</em></a>) – Return the parent of this chunk.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The parent of the chunk if there was one or we created it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree.Octree.print_info">
<code class="sig-name descname">print_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree.html#Octree.print_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree.Octree.print_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Print information about our tiles.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_chunk">
<span id="napari-layers-image-experimental-octree-chunk-module"></span><h2>napari.layers.image.experimental.octree_chunk module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_chunk" title="Permalink to this headline">¶</a></h2>
<p>OctreeChunkGeom, OctreeLocation and OctreeChunk classes.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk">
<em class="property">class </em><code class="sig-name descname">OctreeChunk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">, </span>dask.array.Array<span class="p">, </span>zarr.Array<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">location</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation">napari.layers.image.experimental.octree_chunk.OctreeLocation</a></span></em>, <em class="sig-param"><span class="n">geom</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunkGeom" title="napari.layers.image.experimental.octree_chunk.OctreeChunkGeom">napari.layers.image.experimental.octree_chunk.OctreeChunkGeom</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_chunk.html#OctreeChunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A geographically meaningful portion of the full 2D or 3D image.</p>
<p>For 2D images a chunk is a “tile”. It’s a 2D square region of pixels
which are part of the full 2D image.</p>
<p>For level 0 of the octree, the pixels are 1:1 identical to the full
image. For level 1 or greater the pixels are downsampled from the full
resolution image.</p>
<p>For 3D, not yet implemented, a chunk is a sub-volume. Again for level 0
the voxels are at the full resolution of the full image, but for other
levels the voxels are downsampled.</p>
<p>The highest level of the tree contains a single chunk which depicts the
entire image, whether 2D or 3D.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>ArrayLike</em>) – The data to draw for this chunk.</p></li>
<li><p><strong>location</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation"><em>OctreeLocation</em></a>) – The location of this chunk, including the level_index, row, col.</p></li>
<li><p><strong>geom</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunkGeom" title="napari.layers.image.experimental.octree_chunk.OctreeChunkGeom"><em>OctreeChunkGeom</em></a>) – The position and size of the chunk.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk._orig_data">
<code class="sig-name descname">_orig_data</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk._orig_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The original unloaded data that we use to implement OctreeChunk.clear().</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk.loading">
<code class="sig-name descname">loading</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk.loading" title="Permalink to this definition">¶</a></dt>
<dd><p>If True the chunk has been queued to be loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_chunk.html#OctreeChunk.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear out our loaded data, return to the original.</p>
<p>This is only done when running without the cache, so that we reload
the data again. With computation the loaded data might be different
each time, so we need to do it each time.</p>
<p>TODO_OCTREE: Can we get rid of clear() if we always nuke the
contents of every chunk as soon as it’s no longer in view? If we do
that the same chunk will have to be re-created if it comes into
view a second time, but in most cases the data itself should be
cached so that shouldn’t take long.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the data associated with this chunk.</p>
<p>Before the chunk has been loaded this might be an ndarray or it
might be Dask array or other array-like object. After the chunk has
been loaded it will always be an ndarray. By “loaded” we mean the
bytes are in memory and ready to be drawn.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk.in_memory">
<em class="property">property </em><code class="sig-name descname">in_memory</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk.in_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the data is fully in memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if data is fully in memory.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunk.needs_load">
<em class="property">property </em><code class="sig-name descname">needs_load</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk.needs_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if this chunk needs to loaded.</p>
<p>An unloaded chunk’s data might be a Dask or similar deferred array.
A loaded chunk’s data is always an ndarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>True if the chunk needs to be loaded.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunkGeom">
<em class="property">class </em><code class="sig-name descname">OctreeChunkGeom</code><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_chunk.html#OctreeChunkGeom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunkGeom" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Position and size of the chunk, for rendering.</p>
<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunkGeom.pos">
<em class="property">property </em><code class="sig-name descname">pos</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunkGeom.pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeChunkGeom.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeChunkGeom.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_chunk.OctreeLocation">
<em class="property">class </em><code class="sig-name descname">OctreeLocation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layer_ref</span><span class="p">:</span> <span class="n">napari.components.experimental.chunk._request.LayerRef</span></em>, <em class="sig-param"><span class="n">slice_id</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">row</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_chunk.html#OctreeLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">napari.components.experimental.chunk._request.ChunkLocation</span></code></p>
<p>Location of one chunk within the octree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer_ref</strong> (<em>LayerRef</em>) – Referen to the layer this location is in.</p></li>
<li><p><strong>slice_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the OctreeSlice we are in.</p></li>
<li><p><strong>level_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The octree level index.</p></li>
<li><p><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The chunk row.</p></li>
<li><p><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The chunk col.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.image.experimental.octree_chunk.log_chunks">
<code class="sig-name descname">log_chunks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">chunks</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">location</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation">napari.layers.image.experimental.octree_chunk.OctreeLocation</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_chunk.html#log_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_chunk.log_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the given chunks with an intro header message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Prefix the log message with this label.</p></li>
<li><p><strong>chunks</strong> (<em>List</em><em>[</em><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk"><em>OctreeChunk</em></a><em>]</em>) – The chunks to log.</p></li>
<li><p><strong>location</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeLocation" title="napari.layers.image.experimental.octree_chunk.OctreeLocation"><em>OctreeLocation</em></a><em>]</em>) – Append the log message with this location.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_image">
<span id="napari-layers-image-experimental-octree-image-module"></span><h2>napari.layers.image.experimental.octree_image module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_image" title="Permalink to this headline">¶</a></h2>
<p>OctreeImage class.</p>
<p>An eventual replacement for Image that combines single-scale and
chunked (tiled) multi-scale into one implementation.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage">
<em class="property">class </em><code class="sig-name descname">OctreeImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_image.html#OctreeImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="napari.layers.image.html#napari.layers.image.image.Image" title="napari.layers.image.image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">napari.layers.image.image.Image</span></code></a></p>
<p>Image layer rendered using an octree.</p>
<p>Experimental variant of Image that renders using an octree. For 2D
images the octree is really just a quadtree. For 3D volumes it will be
a real octree. This class is intended to eventually replace the
existing Image class.</p>
<p class="rubric">Notes</p>
<p>The original Image class handled single-scale and multi-scale images,
but they were handled quite differently. And its multi-scale did not
use chunks or tiles. It worked well on local data, but was basically
unusable for remote or high latency data.</p>
<p>OctreeImage always uses chunk/tiles. Today those tiles are always
“small”. However, as a special case, if an image is smaller than the
max texture size, we could some day allow OctreeImage to set its tile
size equal to that image size.</p>
<p>At that point “small” images would be draw with a single texture,
the same way the old Image class drew then. So it would be very
efficient.</p>
<p>But larger images would have multiple chunks/tiles and multiple levels.
Unlike the original Image class multi-scale, the chunks/tiles mean we
only have to incrementally load more data as the user pans and zooms.</p>
<p>The goal is OctreeImage gets renamed to just Image and it efficiently
handles images of any size. It make take a while to get there.</p>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage._view">
<code class="sig-name descname">_view</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage._view" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a view frustum which implies what portion of the OctreeImage
needs to be draw.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeView" title="napari.layers.image.experimental.octree_intersection.OctreeView">OctreeView</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage._slice">
<code class="sig-name descname">_slice</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage._slice" title="Permalink to this definition">¶</a></dt>
<dd><p>When _set_view_slice() is called we create a OctreeSlice()
that’s looking at some specific slice of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>OctreeSlice</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage._display">
<code class="sig-name descname">_display</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage._display" title="Permalink to this definition">¶</a></dt>
<dd><p>Settings for how we draw the octree, such as tile size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions" title="napari.layers.image.experimental.octree_util.OctreeDisplayOptions">OctreeDisplayOptions</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.class_keymap">
<code class="sig-name descname">class_keymap</code><em class="property"> = {}</em><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.class_keymap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.data_level">
<em class="property">property </em><code class="sig-name descname">data_level</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.data_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Current level of multiscale.</p>
<p>The base full resolution image is level 0. The highest and coarsest
level usually contains only a single tile.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.display">
<em class="property">property </em><code class="sig-name descname">display</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.display" title="Permalink to this definition">¶</a></dt>
<dd><p>The display options for this octree image layer.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.get_drawable_chunks">
<code class="sig-name descname">get_drawable_chunks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drawn_set</span><span class="p">:</span> <span class="n">Set<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_image.html#OctreeImage.get_drawable_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.get_drawable_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the chunks in the current slice which are drawable.</p>
<p>The visual calls this and then draws what we send it. The call to
get_intersection() will chose the appropriate level of the octree
to intersect, and then return all the chunks within the
intersection with that level.</p>
<p>These are the “ideal” chunks because they are at the level whose
resolution best matches the current screen resolution.</p>
<p>Drawing chunks at a lower level than this will work fine, but it’s
a waste in that those chunks will just be downsampled by the card.
You won’t see any “extra” resolution at all. The card can do this
super fast, so the issue not such much speed as it is RAM and VRAM.</p>
<p>In the opposite direction, drawing chunks from a higher, the number
of chunks and storage goes down quickly. The only issue there is
visual quality, the imagery might look blurry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>drawn_set</strong> (<em>Set</em><em>[</em><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk"><em>OctreeChunk</em></a><em>]</em>) – The chunks that are currently being drawn by the visual.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The drawable chunks.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.get_intersection">
<code class="sig-name descname">get_intersection</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection" title="napari.layers.image.experimental.octree_intersection.OctreeIntersection">napari.layers.image.experimental.octree_intersection.OctreeIntersection</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_image.html#OctreeImage.get_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.get_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>The the interesection between the current view and the octree.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The intersection between the current view and the octree.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection" title="napari.layers.image.experimental.octree_intersection.OctreeIntersection">OctreeIntersection</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.loaded">
<em class="property">property </em><code class="sig-name descname">loaded</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the data for this layer been loaded yet.</p>
<p>As far as the visual system is concerned we are always “loaded” in
that we can always be drawn. Because our VispyTiledImageLayer can
always be drawn. Even if no chunk/tiles are loaded yet.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.meta">
<em class="property">property </em><code class="sig-name descname">meta</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about the current octree.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Octree dimensions and other info.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata">OctreeMetadata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.num_octree_levels">
<em class="property">property </em><code class="sig-name descname">num_octree_levels</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.num_octree_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of octree levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of octree levels.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.octree_level_info">
<em class="property">property </em><code class="sig-name descname">octree_level_info</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.octree_level_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about the current level of the current octree.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Information about the current octree level.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevelInfo" title="napari.layers.image.experimental.octree_level.OctreeLevelInfo">OctreeLevelInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.on_chunk_loaded">
<code class="sig-name descname">on_chunk_loaded</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">napari.components.experimental.chunk._request.ChunkRequest</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_image.html#OctreeImage.on_chunk_loaded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.on_chunk_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>An asynchronous ChunkRequest was loaded.</p>
<p>Override Image.on_chunk_loaded() fully.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<em>ChunkRequest</em>) – This request was loaded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.remote_messages">
<em class="property">property </em><code class="sig-name descname">remote_messages</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.remote_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Messages we should send to remote clients.</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.tile_shape">
<em class="property">property </em><code class="sig-name descname">tile_shape</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.tile_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the shape of a single tile, for example 256x256x3.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The shape of a single tile.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_image.OctreeImage.tile_size">
<em class="property">property </em><code class="sig-name descname">tile_size</code><a class="headerlink" href="#napari.layers.image.experimental.octree_image.OctreeImage.tile_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the edge length of single tile, for example 256.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The edge length of a single tile.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_intersection">
<span id="napari-layers-image-experimental-octree-intersection-module"></span><h2>napari.layers.image.experimental.octree_intersection module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_intersection" title="Permalink to this headline">¶</a></h2>
<p>OctreeView and OctreeIntersection classes.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection">
<em class="property">class </em><code class="sig-name descname">OctreeIntersection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel">napari.layers.image.experimental.octree_level.OctreeLevel</a></span></em>, <em class="sig-param"><span class="n">view</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeView" title="napari.layers.image.experimental.octree_intersection.OctreeView">napari.layers.image.experimental.octree_intersection.OctreeView</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A view’s intersection with the octree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel"><em>OctreeLevel</em></a>) – The octree level that we intersected with.</p></li>
<li><p><strong>view</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeView" title="napari.layers.image.experimental.octree_intersection.OctreeView"><em>OctreeView</em></a>) – The view we are intersecting with the octree.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.column_range">
<code class="sig-name descname">column_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">span</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.9)">range</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection.column_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.column_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return column range of tiles for this span.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>span</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>]</em>) – The span in image coordinates, [x0..x1]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The range of tiles across the columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.9)">range</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.get_chunks">
<code class="sig-name descname">get_chunks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection.get_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.get_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all of the chunks in this intersection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>create</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, create an OctreeChunk at any location that does
not already have one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.is_visible">
<code class="sig-name descname">is_visible</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection.is_visible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.is_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the tile [row, col] is in the intersection.</p>
<dl class="simple">
<dt>row<span class="classifier">int</span></dt><dd><p>The row of the tile.</p>
</dd>
<dt>col<span class="classifier">int</span></dt><dd><p>The col of the tile.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.row_range">
<code class="sig-name descname">row_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">span</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.9)">range</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection.row_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.row_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return row range of tiles for this span.
:param span: The span in image coordinates, [y0..y1]
:type span: Tuple[float, float]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The range of tiles across the columns.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.9)">range</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_config">
<em class="property">property </em><code class="sig-name descname">tile_config</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tile config, for the monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The file config.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_range">
<code class="sig-name descname">tile_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">span</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">num_tiles_total</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.9)">range</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeIntersection.tile_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tiles indices needed to draw the span.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>span</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>]</em>) – The span in image coordinates.</p></li>
<li><p><strong>num_tiles_total</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The total number of tiles in this direction.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_state">
<em class="property">property </em><code class="sig-name descname">tile_state</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeIntersection.tile_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tile state, for the monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The tile state.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView">
<em class="property">class </em><code class="sig-name descname">OctreeView</code><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>A view into the octree.</p>
<p>An OctreeView corresponds to a camera which is viewing the image data,
plus options as to how we want to render the data.</p>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.corner">
<code class="sig-name descname">corner</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.corner" title="Permalink to this definition">¶</a></dt>
<dd><p>The two (row, col) corners in data coordinates, base image pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.canvas">
<code class="sig-name descname">canvas</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.canvas" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the canvas, the window we are drawing into.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.display">
<code class="sig-name descname">display</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.display" title="Permalink to this definition">¶</a></dt>
<dd><p>How to display the view.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions" title="napari.layers.image.experimental.octree_util.OctreeDisplayOptions">OctreeDisplayOptions</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.auto_level">
<em class="property">property </em><code class="sig-name descname">auto_level</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.auto_level" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the octree level should be selected automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the octree level should be selected automatically.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id0">
<em class="property">property </em><code class="sig-name descname">canvas</code><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.corners">
<em class="property">property </em><code class="sig-name descname">corners</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.data_width">
<em class="property">property </em><code class="sig-name descname">data_width</code><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.data_width" title="Permalink to this definition">¶</a></dt>
<dd><p>The width between the corners, in data coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The width in data coordinates.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id1">
<em class="property">property </em><code class="sig-name descname">display</code><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_intersection.OctreeView.expand">
<code class="sig-name descname">expand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expansion_factor</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#napari.layers.image.experimental.octree_intersection.OctreeView" title="napari.layers.image.experimental.octree_intersection.OctreeView">napari.layers.image.experimental.octree_intersection.OctreeView</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_intersection.html#OctreeView.expand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_intersection.OctreeView.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Return expanded view.</p>
<p>We expand the view so that load some tiles around the edge, so if
you pan they are more likely to be already loaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>expansion_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Expand the view by this much. Contract if less than 1.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_level">
<span id="napari-layers-image-experimental-octree-level-module"></span><h2>napari.layers.image.experimental.octree_level module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_level" title="Permalink to this headline">¶</a></h2>
<p>OctreeLevelInfo and OctreeLevel classes.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree_level.OctreeLevel">
<em class="property">class </em><code class="sig-name descname">OctreeLevel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">slice_id</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">, </span>dask.array.Array<span class="p">, </span>zarr.Array<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata">napari.layers.image.experimental.octree_util.OctreeMetadata</a></span></em>, <em class="sig-param"><span class="n">level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_level.html#OctreeLevel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>One level of the octree.</p>
<p>An OctreeLevel is “sparse” in that it only contains a dict of
OctreeChunks for the portion of the octree that is currently being
rendered. So even if the full level contains hundreds of millions of
chunks, this class only contains a few dozens OctreeChunks.</p>
<p>This was necessary because even having a null reference for every
OctreeChunk in a level would use too much space and be too slow to
construct.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slice_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the OctreeSlice we are in.</p></li>
<li><p><strong>data</strong> (<em>ArrayLike</em>) – The data for this level.</p></li>
<li><p><strong>meta</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata"><em>OctreeMetadata</em></a>) – The base image shape and other details.</p></li>
<li><p><strong>level_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Index of this specific level (0 is full resolution).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_level.OctreeLevel.info">
<code class="sig-name descname">info</code><a class="headerlink" href="#napari.layers.image.experimental.octree_level.OctreeLevel.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata about this level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevelInfo" title="napari.layers.image.experimental.octree_level.OctreeLevelInfo">OctreeLevelInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_level.OctreeLevel._tiles">
<code class="sig-name descname">_tiles</code><a class="headerlink" href="#napari.layers.image.experimental.octree_level.OctreeLevel._tiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps (row, col) tuple to the OctreeChunk at that location.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a>, <a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_level.OctreeLevel.get_chunk">
<code class="sig-name descname">get_chunk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">row</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">create</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">napari.layers.image.experimental.octree_chunk.OctreeChunk</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_level.html#OctreeLevel.get_chunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_level.OctreeLevel.get_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the OctreeChunk at this location if it exists.</p>
<p>If create is True, an OctreeChunk will be created if one
does not exist at this location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The row in the level.</p></li>
<li><p><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The column in the level.</p></li>
<li><p><strong>create</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, create the OctreeChunk if it does not exist.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The OctreeChunk if one existed or we just created it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="#napari.layers.image.experimental.octree_chunk.OctreeChunk" title="napari.layers.image.experimental.octree_chunk.OctreeChunk">OctreeChunk</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_level.OctreeLevelInfo">
<em class="property">class </em><code class="sig-name descname">OctreeLevelInfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata">napari.layers.image.experimental.octree_util.OctreeMetadata</a></span></em>, <em class="sig-param"><span class="n">level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_level.html#OctreeLevelInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_level.OctreeLevelInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Information about one level of the octree.</p>
<p>This should be a NamedTuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="napari.layers.image.experimental.octree_util.OctreeMetadata"><em>OctreeMetadata</em></a>) – Information about the entire octree.</p></li>
<li><p><strong>level_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The index of this level within the whole tree.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.image.experimental.octree_level.log_levels">
<code class="sig-name descname">log_levels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">levels</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel">napari.layers.image.experimental.octree_level.OctreeLevel</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">start_level</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_level.html#log_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_level.log_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the dimensions of each level nicely.</p>
<p>We take start_level so we can log the “extra” levels we created but
with their correct level numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>levels</strong> (<em>List</em><em>[</em><a class="reference internal" href="#napari.layers.image.experimental.octree_level.OctreeLevel" title="napari.layers.image.experimental.octree_level.OctreeLevel"><em>OctreeLevel</em></a><em>]</em>) – Print information about these levels.</p></li>
<li><p><strong>start_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Start the indexing at this number, shift the indexes up.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_tile_builder">
<span id="napari-layers-image-experimental-octree-tile-builder-module"></span><h2>napari.layers.image.experimental.octree_tile_builder module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_tile_builder" title="Permalink to this headline">¶</a></h2>
<p>create_downsampled_levels()</p>
<dl class="py function">
<dt id="napari.layers.image.experimental.octree_tile_builder.add_delay">
<code class="sig-name descname">add_delay</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">delay_ms</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#napari.layers.image.experimental.octree_util.NormalNoise" title="napari.layers.image.experimental.octree_util.NormalNoise">napari.layers.image.experimental.octree_util.NormalNoise</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_tile_builder.html#add_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_tile_builder.add_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a random delay when this array is first accessed.</p>
<p>TODO_OCTREE: unused not but might use again…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>noise</strong> (<a class="reference internal" href="#napari.layers.image.experimental.octree_util.NormalNoise" title="napari.layers.image.experimental.octree_util.NormalNoise"><em>NormalNoise</em></a>) – The amount of the random delay in milliseconds.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.image.experimental.octree_tile_builder.create_downsampled_levels">
<code class="sig-name descname">create_downsampled_levels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a></span></em>, <em class="sig-param"><span class="n">next_level_index</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">tile_size</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_tile_builder.html#create_downsampled_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_tile_builder.create_downsampled_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of levels coarser then this own.</p>
<p>The first returned level is half the size of the input image, and each
additional level is half as small again. The longest size in the
last level is equal to or smaller than tile_size.</p>
<p>For example if the tile_size is 256, the data in the file level will
be smaller than (256, 256).</p>
<p class="rubric">Notes</p>
<p>Currently we use create_downsampled_levels() from Octree._create_extra_levels
so that the image pyramid extends up to the point where the coarsest level
fits within a single tile.</p>
<p>This is potentially quite slow and wasteful. A better long term solution might
be if our tiled visuals supported larger tiles, and a mix of tile sizes. Then
the root level could be a special case that had a larger tiles size than
the interior levels. This would mean zero downsampled, it’d probably perform
better. Tiling an image that the graphics card can easily display is
probably not efficient.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>np.darray</em>) – The full image to create levels from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of levels where levels[0] is the first downsampled level.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental.octree_util">
<span id="napari-layers-image-experimental-octree-util-module"></span><h2>napari.layers.image.experimental.octree_util module<a class="headerlink" href="#module-napari.layers.image.experimental.octree_util" title="Permalink to this headline">¶</a></h2>
<p>OctreeDisplayOptions, NormalNoise and OctreeMetadata classes.</p>
<dl class="py class">
<dt id="napari.layers.image.experimental.octree_util.NormalNoise">
<em class="property">class </em><code class="sig-name descname">NormalNoise</code><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_util.html#NormalNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_util.NormalNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Noise with a normal distribution.</p>
<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.NormalNoise.get_value">
<em class="property">property </em><code class="sig-name descname">get_value</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.NormalNoise.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a random value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The random value.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.NormalNoise.is_zero">
<em class="property">property </em><code class="sig-name descname">is_zero</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.NormalNoise.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if there is no noise at all.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if there is no noise at all.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.NormalNoise.mean">
<em class="property">property </em><code class="sig-name descname">mean</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.NormalNoise.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.NormalNoise.std_dev">
<em class="property">property </em><code class="sig-name descname">std_dev</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.NormalNoise.std_dev" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_util.OctreeDisplayOptions">
<em class="property">class </em><code class="sig-name descname">OctreeDisplayOptions</code><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_util.html#OctreeDisplayOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Options for how to display the octree.</p>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeDisplayOptions.tile_size">
<code class="sig-name descname">tile_size</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions.tile_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of the display tiles, for example 256.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeDisplayOptions.freeze_level">
<code class="sig-name descname">freeze_level</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions.freeze_level" title="Permalink to this definition">¶</a></dt>
<dd><p>If True we do not automatically pick the right data level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeDisplayOptions.track_view">
<code class="sig-name descname">track_view</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions.track_view" title="Permalink to this definition">¶</a></dt>
<dd><p>If True the displayed tiles track the view, the normal mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeDisplayOptions.show_grid">
<code class="sig-name descname">show_grid</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeDisplayOptions.show_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>If True draw a grid around the tiles for debugging or demos.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="id2">
<code class="sig-name descname">freeze_level</code><em class="property">: bool</em><em class="property"> = False</em><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id3">
<em class="property">property </em><code class="sig-name descname">show_grid</code><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>True if we are drawing a grid on top of the tiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if we are drawing a grid on top of the tiles.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="id4">
<code class="sig-name descname">tile_size</code><em class="property">: int</em><em class="property"> = 256</em><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="id5">
<code class="sig-name descname">track_view</code><em class="property">: bool</em><em class="property"> = True</em><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata">
<em class="property">class </em><code class="sig-name descname">OctreeMetadata</code><a class="reference internal" href="../_modules/napari/layers/image/experimental/octree_util.html#OctreeMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<p>Metadata for an Octree.</p>
<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata.base_shape">
<code class="sig-name descname">base_shape</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata.base_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The base [height, width] shape of the entire full resolution image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata.num_levels">
<code class="sig-name descname">num_levels</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata.num_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of octree levels in the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata.tile_size">
<code class="sig-name descname">tile_size</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata.tile_size" title="Permalink to this definition">¶</a></dt>
<dd><p>The default tile size. However each OctreeLevel has its own tile size
which can override this.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>This OctreeMetadata.tile_size will be used by the OctreeLevels in the tree
in general. But the highest level OctreeLevel might use a larger size
so that it can consist of a single chunk.</p>
<p>For example we might be using 256x256 tiles in general. For best
performance it might make sense to have octree levels such that the
highest level fits inside a single 256x256 tiles.</p>
<p>But if we are displaying user provided data, they did not know our tile
size. Instead their root level might be something pretty big, like
6000x6000. In that case we use 6000x6000 as the tile size in our root,
so the root level consists of a single tile.</p>
<p>TODO_OCTREE: we don’t actually support larger size tiles yet! However
it’s still a good idea to assume that each OctreeLevel could have its
own tile size.</p>
<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata.aspect_ratio">
<em class="property">property </em><code class="sig-name descname">aspect_ratio</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata.aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>height aspect ratio of the base image.</p>
<p>For example HDTV resolution is 16:9 which has aspect ration 1.77.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Return the width</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id6">
<em class="property">property </em><code class="sig-name descname">base_shape</code><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py method">
<dt id="napari.layers.image.experimental.octree_util.OctreeMetadata.layer_ref">
<em class="property">property </em><code class="sig-name descname">layer_ref</code><a class="headerlink" href="#napari.layers.image.experimental.octree_util.OctreeMetadata.layer_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="id7">
<em class="property">property </em><code class="sig-name descname">num_levels</code><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="id8">
<em class="property">property </em><code class="sig-name descname">tile_size</code><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-napari.layers.image.experimental">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-napari.layers.image.experimental" title="Permalink to this headline">¶</a></h2>
<p>layers.image.experimental</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="napari.layers.labels.html" class="btn btn-neutral float-right" title="napari.layers.labels package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="napari.layers.image.html" class="btn btn-neutral float-left" title="napari.layers.image package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, napari contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>