

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; napari 0.2.12+64.g88abdde documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="REPORT_HANDLING_MANUAL.html" />
    <link rel="prev" title="&lt;no title&gt;" href="MISSION_AND_VALUES.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> napari
          

          
            
            <img src="../_static/napari_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.12+64.g88abdde
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference external" href="https://napari.org">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/napari/napari">Source Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">napari</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../developers.html">Developer Resources</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developers/RELEASE.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># Release Guide</p>
<p>This guide documents <cite>napari</cite>’s release process.
Currently, it only handles distribution, but as the project matures,
it will include generating release notes, documentation, etc.</p>
<p>This is mainly meant for the core developers who will actually be performing the release.
They will need to have a [PyPI](<a class="reference external" href="https://pypi.org">https://pypi.org</a>) account with upload permissions to the <cite>napari</cite> package.</p>
<p>You will also need the additional <cite>release</cite> dependencies in <cite>requirements/release.txt</cite> to complete the release process.</p>
<p>&gt; [<cite>MANIFEST.in</cite>](../MANIFEST.in) determines which non-Python files are included.
&gt; Make sure to check that all necessary ones are listed before beginning the release process.</p>
<p>The <cite>napari/napari</cite> repository must have a PyPI API token as a GitHub secret.
This likely has been done already, but if it has not, follow
[this guide](<a class="reference external" href="https://pypi.org/help/#apitoken">https://pypi.org/help/#apitoken</a>) to gain a token and
[this guide](<a class="reference external" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets">https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets</a>)
to add it as a secret.</p>
<p>## determining the version</p>
<p>The version of <cite>napari</cite> is automatically determined by [<cite>versioneer</cite>](<a class="reference external" href="https://github.com/warner/python-versioneer">https://github.com/warner/python-versioneer</a>)
from the latest [<cite>git</cite> tag](<a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">https://git-scm.com/book/en/v2/Git-Basics-Tagging</a>) beginning with <cite>v</cite>.
Thus, you’ll need to tag the [reference](<a class="reference external" href="https://git-scm.com/book/en/v2/Git-Internals-Git-References">https://git-scm.com/book/en/v2/Git-Internals-Git-References</a>) with the new version number. It is likely something like <cite>X.Y.Z</cite>. Before making a release though we need to generate the release notes.</p>
<p>## generating release notes</p>
<ol class="arabic simple">
<li><p>Review and cleanup <code class="docutils literal notranslate"><span class="pre">docs/release/release_dev.md</span></code>. This may be empty if it has not been
updated during work on the last release.</p></li>
<li><p>Make a list of merges, contributors, and reviewers by running
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">docs/release/generate_release_notes.py</span> <span class="pre">-h</span></code> and following that file’s usage.
For each release generate the list to include everything since the last release for which there
are release notes (which should just be the last release). For example making the release notes
for the <cite>0.2.1</cite> release can be done as follows:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">python</span> <span class="pre">docs/release/generate_release_notes.py</span> <span class="pre">v0.2.0</span> <span class="pre">master</span> <span class="pre">--version</span> <span class="pre">0.2.1</span> <span class="pre">|</span> <span class="pre">tee</span> <span class="pre">docs/release/release_0_2_1.md</span>
<span class="pre">`</span></code></p></li>
<li><p>Paste this list at the end of the <code class="docutils literal notranslate"><span class="pre">release_dev.md</span></code>.</p></li>
<li><p>Scan the PR titles for highlights, deprecations, API changes,
and bugfixes, and mention these in the relevant sections of the notes.
Try to present the information in an expressive way by mentioning
the affected functions, elaborating on the changes and their
consequences. If possible, organize semantically close PRs in groups.</p></li>
<li><p>Make sure the file name is of the form <code class="docutils literal notranslate"><span class="pre">doc/release/release_&lt;major&gt;_&lt;minor&gt;_&lt;release&gt;.md</span></code>.</p></li>
<li><p>Copy <code class="docutils literal notranslate"><span class="pre">doc/release/release_template.md</span></code> to
<code class="docutils literal notranslate"><span class="pre">doc/release/release_dev.md</span></code> for the next release.</p></li>
<li><p>Copy relevant deprecations from <code class="docutils literal notranslate"><span class="pre">release_&lt;major&gt;_&lt;minor&gt;_&lt;release&gt;.md</span></code>
to <code class="docutils literal notranslate"><span class="pre">release_dev.md</span></code>.</p></li>
<li><p>Make and merge a PR with these release notes before moving onto the next steps.</p></li>
</ol>
<p>## tagging the new release candidate</p>
<p>First we will generate a release candidate, which will contain the letters <cite>rc</cite>.
Using release candidates allows us to test releases on PyPI without using up the actual
release number.</p>
<p>You can tag the current source code as a release candidate with:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">git</span> <span class="pre">tag</span> <span class="pre">vX.Y.Zrc1</span> <span class="pre">master</span>
<span class="pre">`</span></code></p>
<p>If the tag is meant for a previous version of master, simply reference the specific commit:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">git</span> <span class="pre">tag</span> <span class="pre">vX.Y.Zrc1</span> <span class="pre">abcde42</span>
<span class="pre">`</span></code></p>
<p>Note here how we are using <cite>rc</cite> for release candidate to create a version of our release we can test
before making the real release.</p>
<p>You can read more on tagging [here](<a class="reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">https://git-scm.com/book/en/v2/Git-Basics-Tagging</a>).</p>
<p>## testing the release candidate</p>
<p>Our CI automatically makes a release, copying the release notes to the tag and uploading the distribution to PyPI.
You can trigger this by pushing the new tag to <cite>napari/napari</cite>:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">git</span> <span class="pre">push</span> <span class="pre">upstream</span> <span class="pre">--tags</span>
<span class="pre">`</span></code></p>
<p>The release candidate can then be tested with
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--pre</span> <span class="pre">napari</span>
<span class="pre">`</span></code></p>
<p>It is recommended that the release candidate is tested in a virtual environment in order to isolate dependencies.</p>
<p>If the release candidate is not what you want, make your changes and repeat the process from the beginning but
incrementing the number after <cite>rc</cite> on tag (e.g. <cite>vX.Y.Zrc2</cite>).</p>
<p>Once you are satisfied with the release candidate it is time to generate the actual release.</p>
<p>## generating the actual release
To generate the actual release you will now repeat the processes above but now dropping the <cite>rc</cite>.
For example:
<code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">$</span> <span class="pre">git</span> <span class="pre">tag</span> <span class="pre">vX.Y.Z</span> <span class="pre">master</span>
<span class="pre">$</span> <span class="pre">git</span> <span class="pre">push</span> <span class="pre">upstream</span> <span class="pre">--tags</span>
<span class="pre">`</span></code></p>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="REPORT_HANDLING_MANUAL.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MISSION_AND_VALUES.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, napari contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>