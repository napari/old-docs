<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Developer Resources" href="../developers/index.html" /><link rel="prev" title="creating a napari plugin" href="for_plugin_developers.html" />

    <meta name="generator" content="sphinx-3.5.1, furo 2020.12.30.beta24"/>
        <title>napari hook specification reference - napari</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #002b36;
  --color-code-foreground: #839496;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #002b36;
  --color-code-foreground: #839496;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script defer="defer" src="../_static/jquery.js"></script>
    <script defer="defer" src="../_static/underscore.js"></script>
    <script defer="defer" src="../_static/doctools.js"></script>
    <script defer="defer" src="../_static/togglebutton.js"></script>
    <script defer="defer" src="../_static/clipboard.min.js"></script>
    <script defer="defer" src="../_static/copybutton.js"></script>
    <script defer="defer">var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script defer="defer" src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" defer="defer" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script defer="defer">
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" defer="defer" src="../_static/sphinx-thebe.js"></script>
    <script defer src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">napari</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">napari</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/event_loop.html">An Introduction to the Event Loop in napari</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/threading.html">Multithreading in napari</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/perfmon.html">Performance Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/rendering.html">Asynchronous Rendering</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Plugins</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="for_napari_developers.html">napari plugin architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="for_plugin_developers.html">creating a napari plugin</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">napari hook specification reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developers/index.html">Developer Resources</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/code_of_conduct_reporting.html">Handling Code of Conduct Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/contributing.html">Contributing Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/core_dev_guide.html">Core Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/governance.html">Governance Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/mission_and_values.html">Mission and Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/release.html">Release Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/roadmap_0_3.html">Roadmap 0.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/roadmap_0_3_retrospective.html">Roadmap 0.3 Retrospective</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/roadmap_0_4.html">Roadmap 0.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../explanations/index.html">Explanations</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanations/docker.html">Napari in Docker (WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../explanations/performance.html">Napari Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../explanations/rendering.html">Rendering in napari</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../release/index.html">Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_5.html">napari 0.4.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_4.html">napari 0.4.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_3.html">napari 0.4.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_2.html">napari 0.4.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_1.html">napari 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_4_0.html">napari 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_8.html">napari 0.3.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_7.html">napari 0.3.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_6.html">napari 0.3.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_5.html">napari 0.3.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_4.html">napari 0.3.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_3.html">napari 0.3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_2.html">napari 0.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_1.html">napari 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_3_0.html">napari 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_9.html">napari 0.2.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_8.html">napari 0.2.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_7.html">napari 0.2.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_6.html">napari 0.2.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_5.html">napari 0.2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_4.html">napari 0.2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_3.html">napari 0.2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_12.html">napari 0.2.12</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_11.html">napari 0.2.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_10.html">napari 0.2.10</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_1.html">napari 0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_2_0.html">napari 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_1_5.html">napari 0.1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_1_3.html">napari 0.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release/release_0_1_0.html">napari 0.1.0</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.layers.html">napari.layers</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Image.html">napari.layers.Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Labels.html">napari.layers.Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Layer.html">napari.layers.Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Points.html">napari.layers.Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Shapes.html">napari.layers.Shapes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Surface.html">napari.layers.Surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Tracks.html">napari.layers.Tracks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.layers.Vectors.html">napari.layers.Vectors</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.view_layers.html">napari.view_layers</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.view_layers.NumpyDocString.html">napari.view_layers.NumpyDocString</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.view_layers.Viewer.html">napari.view_layers.Viewer</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.types.html">napari.types</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.types.ArrayBase.html">napari.types.ArrayBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.types.TracebackType.html">napari.types.TracebackType</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.utils.html">napari.utils</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.utils.Colormap.html">napari.utils.Colormap</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.plugins.html">napari.plugins</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.plugins.FunctionType.html">napari.plugins.FunctionType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.plugins.HookImplementation.html">napari.plugins.HookImplementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.plugins.PluginManager.html">napari.plugins.PluginManager</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.components.html">napari.components</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.components.Camera.html">napari.components.Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.components.Dims.html">napari.components.Dims</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.components.LayerList.html">napari.components.LayerList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.components.ViewerModel.html">napari.components.ViewerModel</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.qt.threading.html">napari.qt.threading</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.qt.threading.FunctionWorker.html">napari.qt.threading.FunctionWorker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.qt.threading.GeneratorWorker.html">napari.qt.threading.GeneratorWorker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.qt.threading.GeneratorWorkerSignals.html">napari.qt.threading.GeneratorWorkerSignals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.qt.threading.WorkerBase.html">napari.qt.threading.WorkerBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.qt.threading.WorkerBaseSignals.html">napari.qt.threading.WorkerBaseSignals</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.utils.perf.html">napari.utils.perf</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.utils.perf.PerfEvent.html">napari.utils.perf.PerfEvent</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/napari.html">napari</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/napari.Viewer.html">napari.Viewer</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="napari-hook-specification-reference">
<span id="hook-specifications-reference"></span><h1>napari hook specification reference<a class="headerlink" href="#napari-hook-specification-reference" title="Permalink to this headline">¶</a></h1>
<p>All napari hook specifications for pluggable functionality are defined here.</p>
<p>A <em>hook specification</em> is a function signature (with documentation) that
declares an API that plugin developers must adhere to when providing hook
implementations.  <em>Hook implementations</em> provided by plugins (and internally by
napari) will then be invoked in various places throughout the code base.</p>
<p>When implementing a hook specification, pay particular attention to the number
and types of the arguments in the specification signature, as well as the
expected return type.</p>
<p>To allow for hook specifications to evolve over the lifetime of napari,
hook implementations may accept <em>fewer</em> arguments than defined in the
specification. (This allows for extending existing hook arguments without
breaking existing implementations). However, implementations must not require
<em>more</em> arguments than defined in the spec.</p>
<p>For more general background on the plugin hook calling mechanism, see the
<a class="reference external" href="https://napari-plugin-engine.readthedocs.io/en/latest/">napari-plugin-manager documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hook specifications are a feature borrowed from <a class="reference external" href="https://pluggy.readthedocs.io/en/latest/#specs">pluggy</a>. In the <a class="reference external" href="https://pluggy.readthedocs.io/en/latest/">pluggy
documentation</a>, hook
specification marker instances are named <code class="docutils literal notranslate"><span class="pre">hookspec</span></code> by convention, and
hook implementation marker instances are named <code class="docutils literal notranslate"><span class="pre">hookimpl</span></code>.  The
convention in napari is to name them more explicitly:
<code class="docutils literal notranslate"><span class="pre">napari_hook_specification</span></code> and <code class="docutils literal notranslate"><span class="pre">napari_hook_implementation</span></code>,
respectively.</p>
</div>
<div class="section" id="io-hooks">
<h2>IO hooks<a class="headerlink" href="#io-hooks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_get_reader">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_get_reader</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_get_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_get_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function capable of loading <code class="docutils literal notranslate"><span class="pre">path</span></code> into napari, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This is the primary “<strong>reader plugin</strong>” function.  It accepts a path or
list of paths, and returns a list of data to be added to the <code class="docutils literal notranslate"><span class="pre">Viewer</span></code>.
The function may return <code class="docutils literal notranslate"><span class="pre">[(None,</span> <span class="pre">)]</span></code> to indicate that the file was read
successfully, but did not contain any data.</p>
<p>The main place this hook is used is in <code class="xref py py-func docutils literal notranslate"><span class="pre">Viewer.open()</span></code>, via the
<code class="xref py py-func docutils literal notranslate"><span class="pre">read_data_with_plugins()</span></code> function.</p>
<p>It will also be called on <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Open...</span></code> or when a user drops a file
or folder onto the viewer. This function must execute <strong>quickly</strong>, and
should return <code class="docutils literal notranslate"><span class="pre">None</span></code> if the filepath is of an unrecognized format for
this reader plugin.  If <code class="docutils literal notranslate"><span class="pre">path</span></code> is determined to be recognized format,
this function should return a <em>new</em> function that accepts the same filepath
(or list of paths), and returns a list of <code class="docutils literal notranslate"><span class="pre">LayerData</span></code> tuples, where each
tuple is a 1-, 2-, or 3-tuple of <code class="docutils literal notranslate"><span class="pre">(data,)</span></code>, <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">meta)</span></code>, or <code class="docutils literal notranslate"><span class="pre">(data,</span>
<span class="pre">meta,</span> <span class="pre">layer_type)</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">napari</span></code> will then use each tuple in the returned list to generate a new
layer in the viewer using the <code class="xref py py-func docutils literal notranslate"><span class="pre">Viewer._add_layer_from_data()</span></code>
method.  The first, (optional) second, and (optional) third items in each
tuple in the returned layer_data list, therefore correspond to the
<code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">meta</span></code>, and <code class="docutils literal notranslate"><span class="pre">layer_type</span></code> arguments of the
<code class="xref py py-func docutils literal notranslate"><span class="pre">Viewer._add_layer_from_data()</span></code>
method, respectively.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code class="docutils literal notranslate"><span class="pre">path</span></code> may be either a <code class="docutils literal notranslate"><span class="pre">str</span></code> or a <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code>.  If a
<code class="docutils literal notranslate"><span class="pre">list</span></code>, then each path in the list can be assumed to be one part of a
larger multi-dimensional stack (for instance: a list of 2D image files
that should be stacked along a third axis). Implementations should do
their own checking for <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code>, and handle each case as
desired.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> or </em><em>list of str</em>) – Path to file, directory, or resource (like a URL), or a list of paths.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A function that accepts the path, and returns a list of <code class="docutils literal notranslate"><span class="pre">layer_data</span></code>,
where <code class="docutils literal notranslate"><span class="pre">layer_data</span></code> is one of <code class="docutils literal notranslate"><span class="pre">(data,)</span></code>, <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">meta)</span></code>, or
<code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">meta,</span> <span class="pre">layer_type)</span></code>.
If unable to read the path, must return <code class="docutils literal notranslate"><span class="pre">None</span></code> (not <code class="docutils literal notranslate"><span class="pre">False</span></code>!).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Callable or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_get_writer">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_get_writer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_get_writer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_get_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return function capable of writing napari layer data to <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p>This function will be called whenever the user attempts to save multiple
layers (e.g. via <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Save</span> <span class="pre">Layers</span></code>, or
<code class="xref py py-func docutils literal notranslate"><span class="pre">save_layers()</span></code>).
This function must execute <strong>quickly</strong>, and should return <code class="docutils literal notranslate"><span class="pre">None</span></code> if
<code class="docutils literal notranslate"><span class="pre">path</span></code> has an unrecognized extension for the reader plugin or the list of
layer types are incompatible with what the plugin can write. If <code class="docutils literal notranslate"><span class="pre">path</span></code> is
a recognized format, this function should return a <em>function</em> that accepts
the same <code class="docutils literal notranslate"><span class="pre">path</span></code>, and a list of tuples containing the data for each layer
being saved in the form of <code class="docutils literal notranslate"><span class="pre">(Layer.data,</span> <span class="pre">Layer._get_state(),</span>
<span class="pre">Layer._type_string)</span></code>. The writer function should return a list of strings
(the actual filepath(s) that were written).</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is up to plugins to inspect and obey any extension in <code class="docutils literal notranslate"><span class="pre">path</span></code>
(and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension).</p>
</div>
<p>An example function signature for a <code class="docutils literal notranslate"><span class="pre">WriterFunction</span></code> that might be
returned by this hook specification is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">writer_function</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">layer_data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="o">...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).  Any extensions in
the path should be examined and obeyed.  (i.e. if the plugin is
incapable of returning a requested extension, it should return
<code class="docutils literal notranslate"><span class="pre">None</span></code>).</p></li>
<li><p><strong>layer_types</strong> (<em>list of str</em>) – List of layer types (e.g. “image”, “labels”) that will be provided to
the writer function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A function that accepts the path, a list of layer_data (where
layer_data is <code class="docutils literal notranslate"><span class="pre">(data,</span> <span class="pre">meta,</span> <span class="pre">layer_type)</span></code>). If unable to write to the
path or write the layer_data, must return <code class="docutils literal notranslate"><span class="pre">None</span></code> (not <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Callable or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<div class="section" id="single-layers-io">
<span id="write-single-layer-hookspecs"></span><h3>Single Layers IO<a class="headerlink" href="#single-layers-io" title="Permalink to this headline">¶</a></h3>
<p>The following hook specifications will be called when a user saves a single
layer in napari, and should save the layer to the requested format and return
the save path if the data are successfully written. Otherwise, if nothing was saved, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.
They each accept a <code class="docutils literal notranslate"><span class="pre">path</span></code>.
It is up to plugins to inspect and obey the extension of the path (and return
<code class="docutils literal notranslate"><span class="pre">False</span></code> if it is an unsupported extension).  The <code class="docutils literal notranslate"><span class="pre">data</span></code> argument will come
from <code class="docutils literal notranslate"><span class="pre">Layer.data</span></code>, and a <code class="docutils literal notranslate"><span class="pre">meta</span></code> dict that will correspond to the layer’s
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_state()</span></code> method.</p>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_image">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_image</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Write image data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<em>array</em><em> or </em><em>list of array</em>) – Image data. Can be N dimensional. If meta[‘rgb’] is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the
data should be interpreted as RGB or RGBA. If meta[‘multiscale’] is
True, then the data should be interpreted as a multiscale image.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Image metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_labels">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_labels</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Write labels data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<em>array</em><em> or </em><em>list of array</em>) – Integer valued label data. Can be N dimensional. Every pixel contains
an integer ID corresponding to the region it belongs to. The label 0 is
rendered as transparent. If a list and arrays are decreasing in shape
then the data is from a multiscale image.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Labels metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_points">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_points</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Write points data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<em>array</em><em> (</em><em>N</em><em>, </em><em>D</em><em>)</em>) – Coordinates for N points in D dimensions.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Points metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_shapes">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_shapes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_shapes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_shapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Write shapes data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of shape data, where each element is an (N, D) array of the
N vertices of a shape in D dimensions.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Shapes metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_surface">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_surface</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_surface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Write surface data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<em>3-tuple of array</em>) – The first element of the tuple is an (N, D) array of vertices of
mesh triangles. The second is an (M, 3) array of int of indices
of the mesh triangles. The third element is the (K0, …, KL, N)
array of values used to color vertices where the additional L
dimensions are used to color the same mesh with different values.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Surface metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_write_vectors">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_write_vectors</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_write_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_write_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Write vectors data and metadata into a path.</p>
<p>It is the responsibility of the implementation to check any extension on
<code class="docutils literal notranslate"><span class="pre">path</span></code> and return <code class="docutils literal notranslate"><span class="pre">None</span></code> if it is an unsupported extension.  If
<code class="docutils literal notranslate"><span class="pre">path</span></code> has no extension, implementations may append their preferred
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to file, directory, or resource (like a URL).</p></li>
<li><p><strong>data</strong> (<em>(</em><em>N</em><em>, </em><em>2</em><em>, </em><em>D</em><em>) </em><em>array</em>) – The start point and projections of N vectors in D dimensions.</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Vectors metadata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path</strong> – If data is successfully written, return the <code class="docutils literal notranslate"><span class="pre">path</span></code> that was written.
Otherwise, if nothing was done, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>
</div>
</div>
<div class="section" id="analysis-hooks">
<h2>Analysis hooks<a class="headerlink" href="#analysis-hooks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_experimental_provide_function">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_experimental_provide_function</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_experimental_provide_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_experimental_provide_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide function(s) that can be passed to magicgui.</p>
<p>This hook specification is marked as experimental as the API or how the
returned value is handled may change here more frequently then the
rest of the codebase.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>function(s)</strong> – Implementations should provide either a single function, or a list of
functions. Note that this does not preclude specifying multiple
separate implementations in the same module or class.
The functions should have Python type annotations so that
<a class="reference external" href="https://napari.org/magicgui">magicgui</a> can generate a widget from
them.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>FunctionType or list of FunctionType</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">napari.types</span> <span class="kn">import</span> <span class="n">ImageData</span><span class="p">,</span> <span class="n">LayerDataTuple</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">image</span> <span class="p">:</span> <span class="n">ImageData</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LayerDataTuple</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># process the image</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="n">image</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># return it + some layer properties</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s1">'colormap'</span><span class="p">:</span><span class="s1">'turbo'</span><span class="p">}</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@napari_hook_implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">napari_experimental_provide_function</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">my_function</span>
</pre></div>
</div>
</dd></dl>
</div>
<div class="section" id="gui-hooks">
<h2>GUI hooks<a class="headerlink" href="#gui-hooks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="napari.plugins.hook_specifications.napari_experimental_provide_dock_widget">
<code class="sig-prename descclassname"><span class="pre">napari.plugins.hook_specifications.</span></code><code class="sig-name descname"><span class="pre">napari_experimental_provide_dock_widget</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/plugins/hook_specifications.html#napari_experimental_provide_dock_widget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.plugins.hook_specifications.napari_experimental_provide_dock_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide functions that return widgets to be docked in the viewer.</p>
<p>This hook specification is marked as experimental as the API or how the
returned value is handled may change here more frequently then the
rest of the codebase.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>result</strong> – A “callable” in this context is a class or function that, when
called, returns an instance of either a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code> or a
<code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionGui</span></code>.</p>
<p>Implementations of this hook specification must return a callable, or a
tuple of <code class="docutils literal notranslate"><span class="pre">(callable,</span> <span class="pre">dict)</span></code>, where the dict contains keyword
arguments for <code class="xref py py-meth docutils literal notranslate"><span class="pre">napari.qt.Window.add_dock_widget()</span></code>. (note, however,
that <code class="docutils literal notranslate"><span class="pre">shortcut=</span></code> keyword is not yet supported).</p>
<p>Implementations may also return a list, in which each item must be a
callable or <code class="docutils literal notranslate"><span class="pre">(callable,</span> <span class="pre">dict)</span></code> tuple. Note that this does not
preclude specifying multiple separate implementations in the same module
or class.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>callable or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a> or list of callables or list of tuples</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>An example with a QtWidget:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">qtpy.QtWidgets</span> <span class="kn">import</span> <span class="n">QWidget</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">napari_plugin_engine</span> <span class="kn">import</span> <span class="n">napari_hook_implementation</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyWidget</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">napari_viewer</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">viewer</span> <span class="o">=</span> <span class="n">napari_viewer</span>
<span class="gp">... </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="c1"># initialize layout</span>
<span class="gp">... </span>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="c1"># add a button</span>
<span class="gp">... </span>        <span class="n">btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Click me!'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">def</span> <span class="nf">trigger</span><span class="p">():</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="s2">"napari has"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">napari_viewer</span><span class="o">.</span><span class="n">layers</span><span class="p">),</span> <span class="s2">"layers"</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="c1"># activate layout</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@napari_hook_implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">napari_experimental_provide_dock_widget</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">MyWidget</span>
</pre></div>
</div>
<p>An example using magicgui:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">magicgui</span> <span class="kn">import</span> <span class="n">magic_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">napari_plugin_engine</span> <span class="kn">import</span> <span class="n">napari_hook_implementation</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@magic_factory</span><span class="p">(</span><span class="n">auto_call</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="p">{</span><span class="s1">'max'</span><span class="p">:</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">16</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">threshold</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">data</span><span class="p">:</span> <span class="s1">'napari.types.ImageData'</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">int</span>
<span class="gp">... </span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">'napari.types.LabelsData'</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">(</span><span class="n">data</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@napari_hook_implementation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">napari_experimental_provide_dock_widget</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">threshold</span>
</pre></div>
</div>
</dd></dl>
</div>
</div>
<script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./plugins"
        },
        predefinedOutput: true
    }
    </script>
<script>kernelName = 'python3'</script>
      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../developers/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Developer Resources</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="for_plugin_developers.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">creating a napari plugin</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/plugins/hook_specifications.rst"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">napari hook specification reference</a><ul>
<li><a class="reference internal" href="#io-hooks">IO hooks</a><ul>
<li><a class="reference internal" href="#single-layers-io">Single Layers IO</a></li>
</ul>
</li>
<li><a class="reference internal" href="#analysis-hooks">Analysis hooks</a></li>
<li><a class="reference internal" href="#gui-hooks">GUI hooks</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>