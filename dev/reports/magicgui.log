Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/client.py", line 1093, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/client.py", line 559, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/client.py", line 854, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/nbclient/client.py", line 756, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from napari.types import LabelsData, ImageData

@magicgui(call_button='Run Threshold')
def threshold(image: ImageData, threshold: int = 75) -> LabelsData:
    """Threshold an image and return a mask."""
    return (image > threshold).astype(int)

viewer = napari.view_image(np.random.randint(0, 100, (64, 64)))
viewer.window.add_dock_widget(threshold)
threshold()  # "call the widget" to call the function.
             # Normally this would be caused by some user UI interaction
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mTypeError[0m                                 Traceback (most recent call last)
Input [0;32mIn [6][0m, in [0;36m<module>[0;34m[0m
[1;32m      8[0m viewer [38;5;241m=[39m napari[38;5;241m.[39mview_image(np[38;5;241m.[39mrandom[38;5;241m.[39mrandint([38;5;241m0[39m, [38;5;241m100[39m, ([38;5;241m64[39m, [38;5;241m64[39m)))
[1;32m      9[0m viewer[38;5;241m.[39mwindow[38;5;241m.[39madd_dock_widget(threshold)
[0;32m---> 10[0m [43mthreshold[49m[43m([49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.9.9/x64/lib/python3.9/site-packages/magicgui/widgets/_function_gui.py:303[0m, in [0;36mFunctionGui.__call__[0;34m(self, update_widget, *args, **kwargs)[0m
[1;32m    301[0m [38;5;28mself[39m[38;5;241m.[39m_tqdm_depth [38;5;241m=[39m [38;5;241m0[39m  [38;5;66;03m# reset the tqdm stack count[39;00m
[1;32m    302[0m [38;5;28;01mwith[39;00m _function_name_pointing_to_widget([38;5;28mself[39m):
[0;32m--> 303[0m     value [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_function[49m[43m([49m[38;5;241;43m*[39;49m[43mbound[49m[38;5;241;43m.[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mbound[49m[38;5;241;43m.[39;49m[43mkwargs[49m[43m)[49m
[1;32m    305[0m [38;5;28mself[39m[38;5;241m.[39m_call_count [38;5;241m+[39m[38;5;241m=[39m [38;5;241m1[39m
[1;32m    306[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39m_result_widget [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:

Input [0;32mIn [6][0m, in [0;36mthreshold[0;34m(image, threshold)[0m
[1;32m      3[0m [38;5;129m@magicgui[39m(call_button[38;5;241m=[39m[38;5;124m'[39m[38;5;124mRun Threshold[39m[38;5;124m'[39m)
[1;32m      4[0m [38;5;28;01mdef[39;00m [38;5;21mthreshold[39m(image: ImageData, threshold: [38;5;28mint[39m [38;5;241m=[39m [38;5;241m75[39m) [38;5;241m-[39m[38;5;241m>[39m LabelsData:
[1;32m      5[0m     [38;5;124;03m"""Threshold an image and return a mask."""[39;00m
[0;32m----> 6[0m     [38;5;28;01mreturn[39;00m ([43mimage[49m[43m [49m[38;5;241;43m>[39;49m[43m [49m[43mthreshold[49m)[38;5;241m.[39mastype([38;5;28mint[39m)

[0;31mTypeError[0m: '>' not supported between instances of 'NoneType' and 'int'
TypeError: '>' not supported between instances of 'NoneType' and 'int'

