

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>napari.layers.utils package &mdash; napari 0.2.12+73.g134a7dc documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="napari.layers.vectors package" href="napari.layers.vectors.html" />
    <link rel="prev" title="napari.layers.surface package" href="napari.layers.surface.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> napari
          

          
            
            <img src="../_static/napari_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2.12+73.g134a7dc
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">napari</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="napari.layers.html">napari.layers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.utils.html">napari.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.layers.html">napari.layers package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.layers.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.layers.base.html">napari.layers.base package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.image.html">napari.layers.image package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.labels.html">napari.layers.labels package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.points.html">napari.layers.points package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.shapes.html">napari.layers.shapes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.surface.html">napari.layers.surface package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">napari.layers.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.vectors.html">napari.layers.vectors package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#module-napari.layers.intensity_mixin">napari.layers.intensity_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#module-napari.layers.transforms">napari.layers.transforms module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.layers.html#module-napari.layers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.base.html">napari.layers.base package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.image.html">napari.layers.image package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.labels.html">napari.layers.labels package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.points.html">napari.layers.points package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.shapes.html">napari.layers.shapes package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.surface.html">napari.layers.surface package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">napari.layers.utils package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.utils.color_transformations">napari.layers.utils.color_transformations module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.utils.layer_utils">napari.layers.utils.layer_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.layers.utils">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.vectors.html">napari.layers.vectors package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.html">napari.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.colormaps.html">napari.utils.colormaps package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.list.html">napari.utils.list package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference external" href="https://napari.org">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/napari/napari">Source Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">napari</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">napari</a> &raquo;</li>
        
          <li><a href="napari.html">napari package</a> &raquo;</li>
        
          <li><a href="napari.layers.html">napari.layers package</a> &raquo;</li>
        
      <li>napari.layers.utils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/napari.layers.utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="napari-layers-utils-package">
<h1>napari.layers.utils package<a class="headerlink" href="#napari-layers-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-napari.layers.utils.color_transformations">
<span id="napari-layers-utils-color-transformations-module"></span><h2>napari.layers.utils.color_transformations module<a class="headerlink" href="#module-napari.layers.utils.color_transformations" title="Permalink to this headline">¶</a></h2>
<p>This file contains functions which are designed to assist Layer objects transform,
normalize and broadcast the color inputs they receive into a more standardized format -
a numpy array with N rows, N being the number of data points, and a dtype of np.float32.</p>
<dl class="py function">
<dt id="napari.layers.utils.color_transformations.normalize_and_broadcast_colors">
<code class="sig-name descname">normalize_and_broadcast_colors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_entries</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em>, <em class="sig-param"><span class="n">colors</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>List<span class="p">, </span>Tuple<span class="p">, </span><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><span class="p">, </span>AnyStr<span class="p">, </span>vispy.color.color_array.Color<span class="p">, </span>vispy.color.color_array.ColorArray<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><a class="reference internal" href="../_modules/napari/layers/utils/color_transformations.html#normalize_and_broadcast_colors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.color_transformations.normalize_and_broadcast_colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an input color array and forces into being the length of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<p>Used when a single color is supplied for many input objects, but we need
Layer.current_face_color or Layer.current_edge_color to have the shape of
the actual data.</p>
<p>Note: This function can’t robustly parse user input, and thus should
always be used on the output of <code class="docutils literal notranslate"><span class="pre">transform_color_with_defaults</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_entries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of data elements in the layer</p></li>
<li><p><strong>color</strong> (<em>ColorType</em>) – The user’s input after being normalized by transform_color_with_defaults</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tiled</strong> – A tiled version (if needed) of the original input</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.color_transformations.transform_color_cycle">
<code class="sig-name descname">transform_color_cycle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">color_cycle</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>List<span class="p">, </span>Tuple<span class="p">, </span><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><span class="p">, </span>AnyStr<span class="p">, </span>vispy.color.color_array.Color<span class="p">, </span>vispy.color.color_array.ColorArray<span class="p">, </span>itertools.cycle<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">elem_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em><span class="sig-paren">)</span> &#x2192; itertools.cycle<a class="reference internal" href="../_modules/napari/layers/utils/color_transformations.html#transform_color_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.color_transformations.transform_color_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to return an Nx4 np.array from an arbitrary user input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colors</strong> (<em>ColorType</em><em>, </em><em>cycle</em>) – The desired colors for each of the data points</p></li>
<li><p><strong>elem_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Whether we’re trying to set the face color or edge color of the layer</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The default color for that element in the layer</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>transformed_color_cycle</strong> (<em>cycle</em>) – cycle of Nx4 numpy arrays with a dtype of np.float32</p></li>
<li><p><strong>transformed_colors</strong> (<em>np.ndarray</em>) – input array of colors transformed to RGBA</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.color_transformations.transform_color_with_defaults">
<code class="sig-name descname">transform_color_with_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_entries</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em>, <em class="sig-param"><span class="n">colors</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>List<span class="p">, </span>Tuple<span class="p">, </span><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><span class="p">, </span>AnyStr<span class="p">, </span>vispy.color.color_array.Color<span class="p">, </span>vispy.color.color_array.ColorArray<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">elem_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><a class="reference internal" href="../_modules/napari/layers/utils/color_transformations.html#transform_color_with_defaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.color_transformations.transform_color_with_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to return an Nx4 np.array from an arbitrary user input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_entries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of data elements in the layer</p></li>
<li><p><strong>colors</strong> (<em>ColorType</em>) – The wanted colors for each of the data points</p></li>
<li><p><strong>elem_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Whether we’re trying to set the face color or edge color of the layer</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The default color for that element in the layer</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>transformed</strong> – Nx4 numpy array with a dtype of np.float32</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-napari.layers.utils.layer_utils">
<span id="napari-layers-utils-layer-utils-module"></span><h2>napari.layers.utils.layer_utils module<a class="headerlink" href="#module-napari.layers.utils.layer_utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="napari.layers.utils.layer_utils.calc_data_range">
<code class="sig-name descname">calc_data_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#calc_data_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.calc_data_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate range of data values. If all values are equal return [0, 1].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>array</em>) – Data to calculate range of values over.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>values</strong> – Range of values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the data type is uint8, no calculation is performed, and 0-255 is
returned.</p>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.compute_pyramid_level">
<code class="sig-name descname">compute_pyramid_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">requested_shape</span></em>, <em class="sig-param"><span class="n">shape_threshold</span></em>, <em class="sig-param"><span class="n">downsample_factors</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#compute_pyramid_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.compute_pyramid_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Computed desired level of the pyramid given requested field of view.</p>
<p>The level of the pyramid should be the lowest resolution such that
the requested shape is above the shape threshold. By passing a shape
threshold corresponding to the shape of the canvas on the screen this
ensures that we have at least one data pixel per screen pixel, but no
more than we need.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>requested_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Requested shape of field of view in data coordinates</p></li>
<li><p><strong>shape_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – Maximum size of a displayed tile in pixels.</p></li>
<li><p><strong>downsample_factors</strong> (<em>list of tuple</em>) – Downsampling factors for each level of the pyramid. Must be increasing
for each level of the pyramid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level</strong> – Level of the pyramid to be viewing.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.convert_to_uint8">
<code class="sig-name descname">convert_to_uint8</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#convert_to_uint8"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.convert_to_uint8" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert array content to uint8.</p>
<p>If all negative values are changed on 0.</p>
<p>If values are integer and bellow 256 it is simple casting otherwise maximum value for this data type is picked
and values are scaled by 255/maximum type value.</p>
<p>Binary images ar converted to [0,255] images.</p>
<p>float images are multiply by 255 and then casted to uint8.</p>
<p>Based on skimage.util.dtype.convert but limited to output type uint8</p>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.dataframe_to_properties">
<code class="sig-name descname">dataframe_to_properties</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataframe</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#dataframe_to_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.dataframe_to_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a dataframe to Points.properties formatted dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dataframe</strong> (<em>DataFrame</em>) – The dataframe object to be converted to a properties dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A properties dictionary where the key is the property name and the value
is an ndarray with the property value for each point.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a>, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.guess_continuous">
<code class="sig-name descname">guess_continuous</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">property</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#guess_continuous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.guess_continuous" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess if the property is continuous (return True) or categorical (return False)</p>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.increment_unnamed_colormap">
<code class="sig-name descname">increment_unnamed_colormap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#increment_unnamed_colormap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.increment_unnamed_colormap" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment name for unnamed colormap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of colormap to be incremented.</p></li>
<li><p><strong>names</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – Names of existing colormaps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>name</strong> – Name of colormap after incrementing.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.map_property">
<code class="sig-name descname">map_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prop</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></span></em>, <em class="sig-param"><span class="n">colormap</span><span class="p">:</span> <span class="n">vispy.color.colormap.Colormap</span></em>, <em class="sig-param"><span class="n">contrast_limits</span><span class="p">:</span> <span class="n">Union[None, Tuple[float, float]]</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a><span class="p">, </span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><span class="p">]</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#map_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.map_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a colormap to a property</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> (<em>np.ndarray</em>) – The property to be colormapped</p></li>
<li><p><strong>colormap</strong> (<em>vispy.color.Colormap</em>) – The vispy colormap object to apply to the property</p></li>
<li><p><strong>contrast_limits</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em><em>]</em>) – The contrast limits for applying the colormap to the property.
If a 2-tuple is provided, it should be provided as (lower_bound, upper_bound).
If None is provided, the contrast limits will be set to (property.min(), property.max()).
Default value is None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="napari.layers.utils.layer_utils.segment_normal">
<code class="sig-name descname">segment_normal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">p</span><span class="o">=</span><span class="default_value">0, 0, 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/layers/utils/layer_utils.html#segment_normal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#napari.layers.utils.layer_utils.segment_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the unit normal of the vector from a to b.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>np.ndarray</em>) – Length 2 array of first point or Nx2 array of points</p></li>
<li><p><strong>b</strong> (<em>np.ndarray</em>) – Length 2 array of second point or Nx2 array of points</p></li>
<li><p><strong>p</strong> (<em>3-tuple</em><em>, </em><em>optional</em>) – orthogonal vector for segment calculation in 3D.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>unit_norm</strong> – Length the unit normal of the vector from a to b. If a == b,
then returns [0, 0] or Nx2 array of vectors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-napari.layers.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-napari.layers.utils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="napari.layers.vectors.html" class="btn btn-neutral float-right" title="napari.layers.vectors package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="napari.layers.surface.html" class="btn btn-neutral float-left" title="napari.layers.surface package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, napari contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>