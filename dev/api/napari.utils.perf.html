

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>napari.utils.perf package &mdash; napari 0.4.3.dev57+g19a8c4c documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="napari.utils.transforms package" href="napari.utils.transforms.html" />
    <link rel="prev" title="napari.utils.events.containers package" href="napari.utils.events.containers.html" />
    <script async defer data-domain="napari.org" src="https://plausible.io/js/plausible.js"></script>
     

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> napari
          

          
            
            <img src="../_static/napari_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.4.3.dev57+g19a8c4c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">napari</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari.window">napari.window module</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.html">napari package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.benchmarks.html">napari.benchmarks package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.experimental.html">napari.experimental package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.layers.html">napari.layers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.qt.html">napari.qt package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="napari.utils.html">napari.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#napari-conftest-module">napari.conftest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.types">napari.types module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.view_layers">napari.view_layers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.viewer">napari.viewer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari.window">napari.window module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.html#module-napari">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.benchmarks.html">napari.benchmarks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.html">napari.components package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.html">napari.components.experimental package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.chunk.html">napari.components.experimental.chunk package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.monitor.html">napari.components.experimental.monitor package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.components.experimental.remote.html">napari.components.experimental.remote package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.experimental.html">napari.experimental package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.html">napari.layers package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.base.html">napari.layers.base package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.image.html">napari.layers.image package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.image.experimental.html">napari.layers.image.experimental package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.labels.html">napari.layers.labels package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.points.html">napari.layers.points package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.shapes.html">napari.layers.shapes package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.surface.html">napari.layers.surface package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.tracks.html">napari.layers.tracks package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.utils.html">napari.layers.utils package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.layers.vectors.html">napari.layers.vectors package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.plugins.html">napari.plugins package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.qt.html">napari.qt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.resources.html">napari.resources package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="napari.utils.html">napari.utils package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="napari.utils.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="napari.utils.colormaps.html">napari.utils.colormaps package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.utils.events.html">napari.utils.events package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">napari.utils.perf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="napari.utils.transforms.html">napari.utils.transforms package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.config">napari.utils.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.dask_utils">napari.utils.dask_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.info">napari.utils.info module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.interactions">napari.utils.interactions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.io">napari.utils.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.key_bindings">napari.utils.key_bindings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.misc">napari.utils.misc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.naming">napari.utils.naming module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.notebook_display">napari.utils.notebook_display module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.status_messages">napari.utils.status_messages module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.temporary_file">napari.utils.temporary_file module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.theme">napari.utils.theme module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils.validators">napari.utils.validators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="napari.utils.html#module-napari.utils">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.colormaps.html">napari.utils.colormaps package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.events.html">napari.utils.events package</a></li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.events.containers.html">napari.utils.events.containers package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">napari.utils.perf package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-napari.utils.perf">Module contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#chrome-tracing">Chrome Tracing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monkey-patching">Monkey Patching</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trace-on-start">Trace On Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manual-timing">Manual Timing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="napari.utils.transforms.html">napari.utils.transforms package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/index.html">Explanations</a></li>
<li class="toctree-l1"><a class="reference external" href="https://napari.org">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/napari/napari">Source Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">napari</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="modules.html">napari</a> &raquo;</li>
        
          <li><a href="napari.html">napari package</a> &raquo;</li>
        
          <li><a href="napari.utils.html">napari.utils package</a> &raquo;</li>
        
      <li>napari.utils.perf package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/napari.utils.perf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="napari-utils-perf-package">
<h1>napari.utils.perf package<a class="headerlink" href="#napari-utils-perf-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-napari.utils.perf">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-napari.utils.perf" title="Permalink to this headline">¶</a></h2>
<p>Performance Monitoring.</p>
<p>The perfmon module lets you instrument your code and visualize its run-time
behavior and timings in Chrome’s Tracing GUI.</p>
<p>To enable perfmon define the env var NAPARI_PERFMON as follows:</p>
<dl class="simple">
<dt>NAPARI_PERFMON=1</dt><dd><p>Activates perfmon, trace using Debug -&gt; Performance Trace menu.</p>
</dd>
<dt>NAPARI_PERFMON=/path/to/config.json</dt><dd><p>Configure perfmon using the config.json configuration. See the
PerfmonConfig docs for the spec of the config file.</p>
</dd>
</dl>
<div class="section" id="chrome-tracing">
<h3>Chrome Tracing<a class="headerlink" href="#chrome-tracing" title="Permalink to this headline">¶</a></h3>
<p>Chrome has a nice built-in performance tool called chrome://tracing. Chrome
can record traces of web applications. But the format is well-documented and
anyone can create the files and use the nice GUI. And other programs accept
the format including:
1) https://www.speedscope.app/ which does flamegraphs (Chrome doesn’t).
2) Qt Creator’s performance tools.</p>
</div>
<div class="section" id="monkey-patching">
<h3>Monkey Patching<a class="headerlink" href="#monkey-patching" title="Permalink to this headline">¶</a></h3>
<p>The best way to add perf_timers is using the perfmon config file. You can
list which methods or functions you want to time, and a perf_timer will be
monkey-patched into each callable on startup. The monkey patching
is done only if perfmon is enabled.</p>
</div>
<div class="section" id="trace-on-start">
<h3>Trace On Start<a class="headerlink" href="#trace-on-start" title="Permalink to this headline">¶</a></h3>
<p>Add a line to the config file like:</p>
<blockquote>
<div><p>“trace_file_on_start”: “/Path/to/my/trace.json”</p>
</div></blockquote>
<p>Perfmon will start tracing on startup. You must quit napari with the Quit
command for napari to write trace file. See PerfmonConfig docs.</p>
</div>
<div class="section" id="manual-timing">
<h3>Manual Timing<a class="headerlink" href="#manual-timing" title="Permalink to this headline">¶</a></h3>
<p>You can also manually add “perf_timer” context objects and
“add_counter_event()” and “add_instant_event()” functions to your code. All
three of these should be removed before merging the PR into master. While
they have almost zero overhead when perfmon is disabled, it’s still better
not to leave them in the code. Think of them as similar to debug prints.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="napari.utils.transforms.html" class="btn btn-neutral float-right" title="napari.utils.transforms package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="napari.utils.events.containers.html" class="btn btn-neutral float-left" title="napari.utils.events.containers package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, napari contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>